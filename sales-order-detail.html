<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>销售订单详情</title>
  <style>
    :root {
      /* AUI 品牌色 - 从 brand.csv 检索 */
      --aui-color-primary: #0052D9;
      --aui-color-success: #2BA471;
      --aui-color-error: #D54941;
      --aui-color-warning: #E37318;
      --aui-text-900: #1C1C1C;
      --aui-bg-page: #F2F3F5;
      
      /* AUI 间距 - 从 spacing.csv 检索 */
      --space-s: 8px;
      --space-m: 16px;
      --space-l: 24px;
      
      /* AUI 字体 - 从 typography.csv 检索 */
      --font-h1: 32px;
      --font-body: 14px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
      background-color: var(--aui-bg-page);
      color: var(--aui-text-900);
      line-height: 1.5;
      padding: var(--space-l);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    /* ========== 顶部卡片 ==========
       O_Tag: aui-card
       O_CSS_Blueprint: border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.12);
    */
    .aui-card-detail-header {
      display: flex;
      flex-direction: column;
      background: #FFFFFF;
      border-radius: 8px;
      padding: var(--space-l);
      margin-bottom: var(--space-l);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }

    .aui-card-header-content {
      display: flex;
      align-items: center;
      gap: var(--space-m);
    }

    /* ========== 卡片图标 ==========
       O_Asset_Key: aui-icon-search
       O_Size: 16px
    */
    .aui-card-icon {
      width: 48px;
      height: 48px;
      background: var(--aui-color-primary);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .aui-card-icon svg {
      width: 28px;
      height: 28px;
      fill: #FFFFFF;
    }

    .aui-card-text {
      display: flex;
      flex-direction: column;
      gap: var(--space-xs);
    }

    /* ========== 主标题 ==========
       O_Level: Heading-L
       O_Size: 32px
       O_Weight: 600
    */
    .aui-card-title {
      font-size: var(--font-h1);
      font-weight: 600;
      color: var(--aui-text-900);
      line-height: 1.2;
    }

    .aui-card-subtitle {
      font-size: var(--font-body);
      color: var(--aui-text-900);
      font-weight: 400;
    }

    /* ========== 状态标签 ==========
       O_Tag: aui-tag-success
       O_Hex: #2BA471
    */
    .aui-tag-success {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 13px;
      font-weight: 500;
      background: var(--aui-color-success);
      color: #FFFFFF;
    }

    /* ========== 折叠面板容器 ==========
       O_Tag: aui-collapse
       O_CSS_Blueprint: border-radius:8px;
    */
    .aui-collapse-container {
      background: #FFFFFF;
      border-radius: 8px;
      margin-bottom: var(--space-l);
      overflow: hidden;
    }

    .aui-collapse-item {
      border-bottom: 1px solid #DCDCDC;
    }

    .aui-collapse-item:last-child {
      border-bottom: none;
    }

    /* ========== 折叠面板头部 ==========
       O_Interaction: Hover时背景加深10%
    */
    .aui-collapse-header {
      padding: var(--space-m) var(--space-l);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #FAFAFA;
      transition: background 0.2s;
    }

    .aui-collapse-header:hover {
      background: #F0F0F0;
    }

    .aui-collapse-header.active {
      background: #F5F5F5;
    }

    .aui-collapse-title {
      font-size: var(--font-body);
      font-weight: 600;
      color: var(--aui-text-900);
    }

    .aui-collapse-icon {
      width: 16px;
      height: 16px;
      transition: transform 0.3s;
    }

    .aui-collapse-content {
      padding: var(--space-l);
      display: none;
    }

    .aui-collapse-content.active {
      display: block;
    }

    /* ========== 表单布局 ==========
       O_Pattern: Multi-Step-Form
       O_Logic: 分步提交任务引导
    */
    .aui-form-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-m);
    }

    .aui-form-item {
      display: flex;
      flex-direction: column;
      gap: var(--space-xs);
      min-width: 200px;
      flex: 1;
    }

    .aui-form-label {
      font-size: var(--font-body);
      font-weight: 500;
      color: var(--aui-text-900);
    }

    .aui-form-label.required::after {
      content: '*';
      color: var(--aui-color-error);
      margin-left: 4px;
    }

    /* ========== 输入框 ==========
       O_Tag: aui-input
       O_CSS_Blueprint: display:flex; height:32px; border:1px solid #DCDCDC; padding:0 12px;
       O_Interaction: Focus时边框变蓝色
    */
    .aui-input,
    .aui-select,
    .aui-textarea {
      width: 100%;
      height: 32px;
      padding: 0 12px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      font-size: var(--font-body);
      color: var(--aui-text-900);
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .aui-input:focus,
    .aui-select:focus,
    .aui-textarea:focus {
      outline: none;
      border-color: var(--aui-color-primary);
      box-shadow: 0 0 0 2px rgba(0, 82, 217, 0.1);
    }

    .aui-textarea {
      height: auto;
      min-height: 80px;
      resize: vertical;
    }

    /* ========== 表格 ==========
       O_Tag: aui-table
       O_CSS_Blueprint: width:100%; border-radius:8px; border-collapse:collapse;
       O_Interaction: 支持奇偶行变色
    */
    .aui-table-container {
      overflow-x: auto;
    }

    .aui-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--font-body);
    }

    .aui-table th {
      background: #FAFAFA;
      padding: var(--space-s) var(--space-m);
      font-weight: 600;
      color: var(--aui-text-900);
      text-align: left;
      border-bottom: 1px solid #DCDCDC;
    }

    .aui-table td {
      padding: var(--space-s) var(--space-m);
      border-bottom: 1px solid #DCDCDC;
      color: var(--aui-text-900);
    }

    .aui-table tr:hover td {
      background: #FAFAFA;
    }

    .aui-table tr:last-child td {
      border-bottom: none;
    }

    .aui-table-checkbox {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    /* ========== 操作按钮组 ==========
       O_Interaction: Hover时背景加深10%
    */
    .aui-table-actions {
      display: flex;
      align-items: center;
      gap: var(--space-s);
    }

    .aui-table-action-btn {
      padding: 4px 8px;
      border: none;
      background: transparent;
      color: var(--aui-color-primary);
      cursor: pointer;
      font-size: var(--font-body);
      transition: color 0.2s;
    }

    .aui-table-action-btn:hover {
      color: #0052A8;
    }

    .aui-table-select {
      width: 100%;
      height: 32px;
      padding: 0 12px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      font-size: var(--font-body);
      background: #FFFFFF;
      cursor: pointer;
    }

    .aui-table-select:focus {
      outline: none;
      border-color: var(--aui-color-primary);
    }

    .aui-table-date-picker {
      width: 100%;
      height: 32px;
      padding: 0 12px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      font-size: var(--font-body);
    }

    .aui-table-text-input {
      width: 100%;
      height: 32px;
      padding: 0 12px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      font-size: var(--font-body);
    }

    .aui-table-text-input:focus {
      outline: none;
      border-color: var(--aui-color-primary);
    }

    /* ========== 表格工具栏 ==========
       O_Tag: aui-btn-primary
       O_CSS_Blueprint: display:flex; padding:8px 16px; border-radius:4px; background:#0052D9; color:#FFFFFF;
       O_Interaction: Hover时背景加深10%
    */
    .aui-table-toolbar {
      margin-bottom: var(--space-m);
    }

    .aui-btn-primary {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: 4px;
      background: var(--aui-color-primary);
      color: #FFFFFF;
      border: none;
      font-size: var(--font-body);
      font-weight: 500;
      cursor: pointer;
      gap: var(--space-xs);
    }

    .aui-btn-primary:hover {
      background: #0052A8;
    }

    /* ========== 页面底部按钮组 ==========
       O_Pattern: ButtonGroup
       O_Layout_Engine: Flex
    */
    .aui-page-footer {
      display: flex;
      justify-content: flex-end;
      gap: var(--space-s);
      margin-top: var(--space-l);
    }

    .aui-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 24px;
      border-radius: 4px;
      font-size: var(--font-body);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .aui-btn-primary-footer {
      background: var(--aui-color-primary);
      color: #FFFFFF;
      border: none;
    }

    .aui-btn-primary-footer:hover {
      background: #0052A8;
    }

    .aui-btn-default {
      background: #FFFFFF;
      color: var(--aui-text-900);
      border: 1px solid #DCDCDC;
    }

    .aui-btn-default:hover {
      background: #FAFAFA;
      border-color: #B0B0B0;
    }

    .aui-btn-text {
      background: transparent;
      color: var(--aui-text-900);
      border: none;
    }

    .aui-btn-text:hover {
      background: #F5F5F5;
    }

    .aui-btn-icon {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    .aui-collapse-content .aui-form-grid {
      flex-direction: row;
    }

    @media (max-width: 768px) {
      .aui-collapse-content .aui-form-grid {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- 顶部卡片 -->
    <div class="aui-card-detail-header">
      <div class="aui-card-header-content">
        <div class="aui-card-icon">
          <svg viewBox="0 0 24 24">
            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-9H6V4h5v4z"/>
          </svg>
        </div>
        <div class="aui-card-text">
          <h1 class="aui-card-title">销售订单详情</h1>
          <div style="display: flex; align-items: center; gap: var(--space-s);">
            <span class="aui-card-subtitle">00F0034567873QW</span>
            <span class="aui-tag-success">已确认</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 折叠面板容器 -->
    <div class="aui-collapse-container">
      <!-- 基本信息 -->
      <div class="aui-collapse-item">
        <div class="aui-collapse-header active" onclick="toggleCollapse('basic')">
          <span class="aui-collapse-title">基本信息</span>
          <svg class="aui-collapse-icon" viewBox="0 0 24 24">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
          </svg>
        </div>
        <div class="aui-collapse-content active" id="basic">
          <div class="aui-form-grid">
            <div class="aui-form-item">
              <label class="aui-form-label required">运输方式</label>
              <select class="aui-select">
                <option value="">请选择运输方式</option>
                <option value="air" selected>空运</option>
                <option value="sea">海运</option>
                <option value="land">陆运</option>
                <option value="express">快递</option>
              </select>
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label required">贸易术语</label>
              <select class="aui-select">
                <option value="">请选择贸易术语</option>
                <option value="fob" selected>FOB</option>
                <option value="cif">CIF</option>
                <option value="exw">EXW</option>
                <option value="ddp">DDP</option>
              </select>
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">订单来源</label>
              <input type="text" class="aui-input" value="采购上游系统" placeholder="请输入订单来源">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">来源对象类型</label>
              <input type="text" class="aui-input" placeholder="请输入来源对象类型">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">来源单据号</label>
              <input type="text" class="aui-input" value="ABCDEFG" placeholder="请输入来源单据号">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">关联订单号</label>
              <input type="text" class="aui-input" value="2025080987483" placeholder="请输入关联订单号">
            </div>
            <div class="aui-form-item" style="flex: 1 1 100%;">
              <label class="aui-form-label">备注</label>
              <textarea class="aui-textarea" placeholder="请输入备注">该订单为XXXXXX客户XXXXXX</textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- 时间记录 -->
      <div class="aui-collapse-item">
        <div class="aui-collapse-header active" onclick="toggleCollapse('timeline')">
          <span class="aui-collapse-title">时间记录</span>
          <svg class="aui-collapse-icon" viewBox="0 0 24 24">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
          </svg>
        </div>
        <div class="aui-collapse-content active" id="timeline">
          <div class="aui-form-grid">
            <div class="aui-form-item">
              <label class="aui-form-label">确认时间</label>
              <input type="date" class="aui-input" value="2025-07-03">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">关闭时间</label>
              <input type="date" class="aui-input" value="2025-07-03">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">下单时间</label>
              <input type="date" class="aui-input" value="2025-07-03">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">创建人</label>
              <input type="text" class="aui-input" value="张三" readonly>
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">创建时间</label>
              <input type="date" class="aui-input" value="2025-07-03">
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">最后修改人</label>
              <input type="text" class="aui-input" value="莉莉" readonly>
            </div>
            <div class="aui-form-item">
              <label class="aui-form-label">最后修改时间</label>
              <input type="date" class="aui-input" value="2025-07-03">
            </div>
          </div>
        </div>
      </div>

      <!-- 详细行信息 -->
      <div class="aui-collapse-item">
        <div class="aui-collapse-header active" onclick="toggleCollapse('details')">
          <span class="aui-collapse-title">详细行信息</span>
          <svg class="aui-collapse-icon" viewBox="0 0 24 24">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
          </svg>
        </div>
        <div class="aui-collapse-content active" id="details">
          <div class="aui-table-toolbar">
            <button class="aui-btn-primary" onclick="addRow()">
              <svg class="aui-btn-icon" viewBox="0 0 24 24">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
              </svg>
              新增
            </button>
          </div>
          <div class="aui-table-container">
            <table class="aui-table">
              <thead>
                <tr>
                  <th width="40" style="text-align: center;">选择</th>
                  <th width="120" style="text-align: center;">操作</th>
                  <th width="80">行号</th>
                  <th width="120">物料编码</th>
                  <th width="150">物料描述</th>
                  <th width="100">物料版本</th>
                  <th width="100">订购数量</th>
                  <th width="80">单位</th>
                  <th width="100">销售单价</th>
                  <th width="100">状态</th>
                  <th width="160">客户要求发货日期</th>
                </tr>
              </thead>
              <tbody id="tableBody">
                <tr>
                  <td style="text-align: center;">
                    <input type="checkbox" class="aui-table-checkbox" checked>
                  </td>
                  <td style="text-align: center;">
                    <div class="aui-table-actions">
                      <button class="aui-table-action-btn" onclick="copyRow(this)">拷贝</button>
                      <button class="aui-table-action-btn" onclick="viewDetail(this)">查看详情</button>
                      <button class="aui-table-action-btn" onclick="showMoreMenu(this)">更多</button>
                    </div>
                  </td>
                  <td><input type="text" class="aui-table-text-input" value="1" readonly></td>
                  <td>
                    <select class="aui-table-select">
                      <option value="">请选择</option>
                      <option value="MAT001" selected>MAT001</option>
                      <option value="MAT002">MAT002</option>
                    </select>
                  </td>
                  <td><input type="text" class="aui-table-text-input" value="机顶盒"></td>
                  <td><input type="text" class="aui-table-text-input" value="V1"></td>
                  <td><input type="number" class="aui-table-text-input" value="50"></td>
                  <td><input type="text" class="aui-table-text-input" value="台"></td>
                  <td><input type="text" class="aui-table-text-input" value=""></td>
                  <td><span class="aui-tag-success">已发货</span></td>
                  <td><input type="date" class="aui-table-date-picker" value="2025-07-10"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- 页面底部按钮组 -->
    <div class="aui-page-footer">
      <button class="aui-btn aui-btn-primary-footer" onclick="handleSubmit()">提交</button>
      <button class="aui-btn aui-btn-default" onclick="handleEdit()">编辑</button>
      <button class="aui-btn aui-btn-default" onclick="handleSaveDraft()">暂挂</button>
      <button class="aui-btn aui-btn-text" onclick="handleCancel()">取消</button>
    </div>
  </div>

  <script>
    function toggleCollapse(name) {
      const content = document.getElementById(name);
      const header = content.previousElementSibling;
      const icon = header.querySelector('.aui-collapse-icon');
      
      content.classList.toggle('active');
      header.classList.toggle('active');
      
      if (content.classList.contains('active')) {
        icon.style.transform = 'rotate(180deg)';
      } else {
        icon.style.transform = 'rotate(0deg)';
      }
    }

    function addRow() {
      const tableBody = document.getElementById('tableBody');
      const rowCount = tableBody.rows.length + 1;
      
      const newRow = document.createElement('tr');
      newRow.innerHTML = `
        <td style="text-align: center;">
          <input type="checkbox" class="aui-table-checkbox" checked>
        </td>
        <td style="text-align: center;">
          <div class="aui-table-actions">
            <button class="aui-table-action-btn" onclick="copyRow(this)">拷贝</button>
            <button class="aui-table-action-btn" onclick="viewDetail(this)">查看详情</button>
            <button class="aui-table-action-btn" onclick="showMoreMenu(this)">更多</button>
          </div>
        </td>
        <td><input type="text" class="aui-table-text-input" value="${rowCount}" readonly></td>
        <td>
          <select class="aui-table-select">
            <option value="">请选择</option>
            <option value="MAT001">MAT001</option>
            <option value="MAT002">MAT002</option>
          </select>
        </td>
        <td><input type="text" class="aui-table-text-input" placeholder="请输入物料描述"></td>
        <td><input type="text" class="aui-table-text-input" placeholder="请输入物料版本"></td>
        <td><input type="number" class="aui-table-text-input" placeholder="0"></td>
        <td><input type="text" class="aui-table-text-input" placeholder="请输入单位"></td>
        <td><input type="text" class="aui-table-text-input" placeholder="请输入销售单价"></td>
        <td><span class="aui-tag-success">待发货</span></td>
        <td><input type="date" class="aui-table-date-picker"></td>
      `;
      
      tableBody.appendChild(newRow);
    }

    function copyRow(btn) {
      console.log('拷贝行:', btn);
      alert('拷贝功能');
    }

    function viewDetail(btn) {
      console.log('查看详情:', btn);
      alert('查看详情功能');
    }

    function showMoreMenu(btn) {
      console.log('更多菜单:', btn);
      alert('更多菜单功能');
    }

    function handleSubmit() {
      console.log('提交');
      alert('提交功能');
    }

    function handleEdit() {
      console.log('编辑');
      alert('编辑功能');
    }

    function handleSaveDraft() {
      console.log('暂挂');
      alert('暂挂功能');
    }

    function handleCancel() {
      console.log('取消');
      alert('取消功能');
    }
  </script>
</body>
</html>
